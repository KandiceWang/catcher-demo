name: Deploy Static Site

on:
  push:
    branches: [ master ]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Create static site
      run: |
        mkdir -p ./static-site
        
        # Copy all static assets from wwwroot
        cp -r ./wwwroot/* ./static-site/ 2>/dev/null || :
        
        # Copy additional HTML pages from root
        cp ./creators.html ./static-site/ 2>/dev/null || :
        cp ./creator.html ./static-site/ 2>/dev/null || :
        cp ./portfolio.html ./static-site/ 2>/dev/null || :
        cp ./test.html ./static-site/ 2>/dev/null || :
        
        # Copy JavaScript and CSS files
        mkdir -p ./static-site/js
        mkdir -p ./static-site/css
        mkdir -p ./static-site/data
        cp ./js/* ./static-site/js/ 2>/dev/null || :
        cp ./css/* ./static-site/css/ 2>/dev/null || :
        cp ./data/* ./static-site/data/ 2>/dev/null || :
        
        # Create index.html
        cat > ./static-site/index.html << 'EOF'
        <!DOCTYPE html>
        <html lang="zh-TW">
        <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>Catcher - é€£æ¥å®¢æˆ¶èˆ‡è‡ªç”±å·¥ä½œè€…</title>
            <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
            <link rel="stylesheet" href="css/site.css" />
            <link rel="icon" href="favicon.ico" />
            <style>
                body {
                    background-color: #f5f4f0;
                    font-family: 'Arial', sans-serif;
                }
                .navbar-brand {
                    color: #2c5530 !important;
                    font-weight: bold;
                    font-size: 1.5rem;
                }
                .navbar-brand::before {
                    content: "ğŸ•¸ï¸ ";
                }
                .hero-section {
                    background-color: #f5f4f0;
                    padding: 80px 0;
                }
                .hero-title {
                    color: #2c5530;
                    font-size: 3.5rem;
                    font-weight: bold;
                    line-height: 1.2;
                    margin-bottom: 20px;
                }
                .search-container {
                    background: linear-gradient(135deg, #a8d5e2 0%, #7fb8c4 100%);
                    border-radius: 20px;
                    padding: 40px;
                    margin: 40px 0;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                }
                .search-tabs {
                    margin-bottom: 30px;
                }
                .search-tab {
                    background: #2c5530;
                    color: white;
                    border: none;
                    padding: 12px 30px;
                    border-radius: 25px;
                    margin-right: 10px;
                    font-weight: 500;
                }
                .search-tab.active {
                    background: white;
                    color: #2c5530;
                }
                .search-input-group {
                    position: relative;
                }
                .search-input {
                    border: none;
                    border-radius: 25px;
                    padding: 15px 25px;
                    font-size: 1.1rem;
                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                }
                .search-btn {
                    background: #ff6b4a;
                    border: none;
                    border-radius: 25px;
                    color: white;
                    padding: 15px 30px;
                    font-weight: bold;
                    margin-left: 10px;
                }
                .categories-section {
                    padding: 60px 0;
                }
                .section-title {
                    color: #2c5530;
                    font-size: 2.5rem;
                    font-weight: bold;
                    text-align: center;
                    margin-bottom: 50px;
                }
                .category-card {
                    border-radius: 15px;
                    padding: 30px 20px;
                    text-align: center;
                    margin-bottom: 20px;
                    transition: transform 0.3s ease;
                    border: none;
                    height: 180px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                }
                .category-card:hover {
                    transform: translateY(-5px);
                }
                .category-icon {
                    font-size: 2.5rem;
                    margin-bottom: 15px;
                }
                .category-title {
                    font-size: 1.2rem;
                    font-weight: bold;
                    color: #2c5530;
                    margin: 0;
                }
                .category-subtitle {
                    font-size: 0.9rem;
                    color: #666;
                    margin: 5px 0 0 0;
                }
                .bg-blue { background-color: #a8d5e2; }
                .bg-yellow { background-color: #f4e4a6; }
                .bg-orange { background-color: #f4a261; }
                .bg-green { background-color: #8fbc8f; }
                .bg-purple { background-color: #dda0dd; }
                .bg-pink { background-color: #f8bbd9; }
                
                /* Featured Portfolios Section */
                .featured-portfolios-section {
                    padding: 80px 0;
                    background: #f8f9fa;
                }
                .portfolio-card {
                    background: white;
                    border-radius: 12px;
                    overflow: hidden;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
                    transition: all 0.3s ease;
                    margin-bottom: 30px;
                    cursor: pointer;
                }
                .portfolio-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
                }
                .portfolio-image {
                    width: 100%;
                    height: 250px;
                    object-fit: cover;
                    background: #e9ecef;
                }
                .portfolio-content {
                    padding: 20px;
                }
                .portfolio-title {
                    font-size: 1.1rem;
                    font-weight: 600;
                    color: #2c5530;
                    margin-bottom: 8px;
                }
                .portfolio-creator {
                    color: #666;
                    font-size: 0.9rem;
                    margin-bottom: 10px;
                }
                .portfolio-category {
                    display: inline-block;
                    background: #e9ecef;
                    color: #495057;
                    padding: 4px 12px;
                    border-radius: 12px;
                    font-size: 0.8rem;
                    font-weight: 500;
                }
                
                /* Top Creators Section */
                .top-creators-section {
                    padding: 80px 0;
                    background: white;
                }
                .creator-card {
                    background: white;
                    border: 1px solid #e9ecef;
                    border-radius: 12px;
                    padding: 30px 20px;
                    text-align: center;
                    transition: all 0.3s ease;
                    margin-bottom: 30px;
                    cursor: pointer;
                }
                .creator-card:hover {
                    transform: translateY(-3px);
                    box-shadow: 0 6px 25px rgba(0,0,0,0.1);
                }
                .creator-avatar {
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    object-fit: cover;
                    margin: 0 auto 15px;
                    border: 3px solid #e9ecef;
                }
                .creator-name {
                    font-size: 1.1rem;
                    font-weight: 600;
                    color: #2c5530;
                    margin-bottom: 8px;
                }
                .creator-bio {
                    color: #666;
                    font-size: 0.9rem;
                    line-height: 1.4;
                    margin-bottom: 15px;
                    display: -webkit-box;
                    -webkit-line-clamp: 2;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }
                .creator-stats {
                    color: #999;
                    font-size: 0.8rem;
                }
                
                /* Loading and Empty States */
                .loading {
                    text-align: center;
                    padding: 60px 20px;
                    color: #666;
                }
                .empty-state {
                    text-align: center;
                    padding: 60px 20px;
                    color: #999;
                }
                
                /* Mindmap æ¨£å¼ */
                .mindmap-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.8);
                    z-index: 9999;
                    display: none;
                    align-items: center;
                    justify-content: center;
                }
                .mindmap-container {
                    background: white;
                    border-radius: 20px;
                    padding: 20px;
                    width: 95vw;
                    height: 90vh;
                    overflow: auto;
                    position: relative;
                    display: flex;
                    flex-direction: column;
                }
                .mindmap-close {
                    position: absolute;
                    top: 15px;
                    right: 20px;
                    background: none;
                    border: none;
                    font-size: 1.5rem;
                    cursor: pointer;
                    color: #666;
                    z-index: 10;
                }
                .mindmap-title {
                    text-align: center;
                    color: #2c5530;
                    margin-bottom: 20px;
                    font-size: 1.5rem;
                    font-weight: bold;
                    flex-shrink: 0;
                }
                
                /* å¿ƒæ™ºåœ–ç¯€é»æ¨£å¼ */
                .mindmap {
                    flex: 1;
                    position: relative;
                    min-height: 800px;
                    width: 100%;
                    overflow: visible;
                }
                .mindmap-center {
                    background: #1a1a2e;
                    color: white;
                    padding: 20px 40px;
                    border-radius: 15px;
                    font-size: 1.5rem;
                    font-weight: bold;
                    margin: 50px 0;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                }
                .mindmap-branch {
                    position: absolute;
                    padding: 12px 20px;
                    border-radius: 10px;
                    font-weight: 500;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                    cursor: pointer;
                    transition: all 0.3s ease;
                    min-width: 120px;
                    text-align: center;
                }
                .mindmap-branch:hover {
                    transform: scale(1.05);
                    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                }
                .mindmap-sub {
                    position: absolute;
                    padding: 8px 15px;
                    border-radius: 8px;
                    font-size: 0.9rem;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                    cursor: pointer;
                    transition: all 0.3s ease;
                    min-width: 100px;
                    text-align: center;
                    border: 2px solid white;
                }
                .mindmap-sub:hover {
                    transform: scale(1.05);
                }
                
                /* åˆ†æ”¯é¡è‰² */
                .branch-creator { background: #4CAF50; color: white; }
                .branch-portfolio { background: #FFC107; color: black; }
                .branch-home { background: #FF9800; color: white; }
                .branch-usage { background: #F44336; color: white; }
                
                /* é€£æ¥ç·š */
                .mindmap-line {
                    position: absolute;
                    background: #666;
                    transform-origin: 0 50%;
                }
                .line-h { height: 2px; }
                .line-v { width: 2px; }
                
                /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
                @media (max-width: 1200px) {
                    .mindmap-container {
                        width: 98vw;
                        height: 85vh;
                        padding: 15px;
                    }
                    .mindmap-sub {
                        font-size: 0.7rem !important;
                        padding: 6px 10px;
                        min-width: 80px;
                    }
                }
                
                @media (max-width: 768px) {
                    .mindmap-container {
                        width: 100vw;
                        height: 100vh;
                        padding: 10px;
                        border-radius: 0;
                    }
                    .mindmap {
                        min-height: 100%;
                    }
                    .mindmap-center {
                        font-size: 1rem;
                        padding: 10px 20px;
                    }
                    .mindmap-branch {
                        padding: 8px 12px;
                        font-size: 0.8rem;
                        min-width: 80px;
                    }
                    .mindmap-sub {
                        padding: 4px 8px;
                        font-size: 0.6rem !important;
                        min-width: 60px;
                        line-height: 1.2;
                    }
                    .mindmap-title {
                        font-size: 1.2rem;
                        margin-bottom: 10px;
                    }
                }
                
                @media (min-width: 1920px) {
                    .mindmap-container {
                        width: 90vw;
                        height: 85vh;
                    }
                    .mindmap {
                        min-height: 1000px;
                    }
                    .mindmap-sub {
                        font-size: 0.9rem !important;
                        padding: 10px 15px;
                    }
                }
            </style>
        </head>
        <body>
            <!-- Navigation -->
            <nav class="navbar navbar-expand-lg navbar-light bg-light py-3">
                <div class="container">
                    <a class="navbar-brand" href="#">CATCHER</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav me-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="#about">About us</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#contact">Contact</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#" id="mindmapBtn">ğŸ—ºï¸ Mindmap</a>
                            </li>
                        </ul>
                        <button class="btn btn-outline-danger rounded-pill px-4">Log in</button>
                    </div>
                </div>
            </nav>

            <!-- Hero Section -->
            <section class="hero-section">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="hero-title">
                                Connecting clients in<br>
                                need to freelancers<br>
                                who deliver
                            </h1>
                        </div>
                        <div class="col-lg-6">
                            <!-- Search Container -->
                            <div class="search-container">
                                <div class="search-tabs">
                                    <button class="search-tab active">Find talent</button>
                                    <button class="search-tab">Browse jobs</button>
                                </div>
                                <div class="search-input-group">
                                    <div class="d-flex">
                                        <input type="text" class="form-control search-input flex-grow-1" 
                                               placeholder="Search by role, or keywords">
                                        <button class="btn search-btn">ğŸ” search</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Categories Section -->
            <section class="categories-section">
                <div class="container">
                    <h2 class="section-title">Explore millions of pros</h2>
                    <div class="row">
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-yellow">
                                <div class="category-icon">&lt;/&gt;</div>
                                <h5 class="category-title">Development &amp;</h5>
                                <p class="category-subtitle">IT</p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-blue">
                                <div class="category-icon">ğŸ¨</div>
                                <h5 class="category-title">Designice</h5>
                                <p class="category-subtitle">Creative</p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-yellow">
                                <div class="category-icon">ğŸ¤–</div>
                                <h5 class="category-title">AI Services</h5>
                                <p class="category-subtitle"></p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-yellow">
                                <div class="category-icon">ğŸ“Š</div>
                                <h5 class="category-title">AI Services</h5>
                                <p class="category-subtitle"></p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-orange">
                                <div class="category-icon">ğŸ’°</div>
                                <h5 class="category-title">Finance &amp;</h5>
                                <p class="category-subtitle">Accounting</p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-blue">
                                <div class="category-icon">ğŸ‘¥</div>
                                <h5 class="category-title">HR &amp; Training</h5>
                                <p class="category-subtitle"></p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-blue">
                                <div class="category-icon">âš–ï¸</div>
                                <h5 class="category-title">Legal</h5>
                                <p class="category-subtitle"></p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-yellow">
                                <div class="category-icon">ğŸ‘¥</div>
                                <h5 class="category-title">HR &amp; Training</h5>
                                <p class="category-subtitle"></p>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6">
                            <div class="card category-card bg-orange">
                                <div class="category-icon">ğŸ—ï¸</div>
                                <h5 class="category-title">Engineering &amp;</h5>
                                <p class="category-subtitle">Architecture</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Featured Portfolios Section -->
            <section class="featured-portfolios-section">
                <div class="container">
                    <h2 class="section-title">ç²¾é¸ä½œå“å±•ç¤º</h2>
                    <p class="text-center mb-5 text-muted">æ¢ç´¢å°ç£é ‚å°–å‰µä½œè€…çš„å„ªç§€ä½œå“</p>
                    <div id="featuredPortfoliosGrid" class="row">
                        <!-- å‹•æ…‹è¼‰å…¥ä½œå“ -->
                    </div>
                    <div class="text-center mt-4">
                        <a href="./creators.html" class="btn btn-outline-primary btn-lg">æŸ¥çœ‹æ›´å¤šå‰µä½œè€…</a>
                    </div>
                </div>
            </section>

            <!-- Top Creators Section -->
            <section class="top-creators-section">
                <div class="container">
                    <h2 class="section-title">ç†±é–€å‰µä½œè€…</h2>
                    <div id="topCreatorsList" class="row">
                        <!-- å‹•æ…‹è¼‰å…¥å‰µä½œè€… -->
                    </div>
                </div>
            </section>

            <!-- Mindmap Overlay -->
            <div class="mindmap-overlay" id="mindmapOverlay">
                <div class="mindmap-container">
                    <button class="mindmap-close" id="mindmapClose">&times;</button>
                    <h3 class="mindmap-title">Catcher ç¶²ç«™æ¶æ§‹åœ–</h3>
                    <div class="mindmap" id="mindmapCanvas">
                        <!-- ä¸­å¿ƒç¯€é» -->
                        <div class="mindmap-center" style="top: 50%; left: 50%; transform: translate(-50%, -50%);">
                            Catcher
                        </div>
                        
                        <!-- å‰µä½œè€…é é¢åˆ†æ”¯ (å·¦ä¸Š) -->
                        <div class="mindmap-branch branch-creator" style="top: 20%; left: 15%;">
                            å‰µä½œè€…é é¢
                        </div>
                        
                        <!-- ä½œå“é é¢åˆ†æ”¯ (å·¦ä¸­) -->
                        <div class="mindmap-branch branch-portfolio" style="top: 40%; left: 10%;">
                            ä½œå“é é¢
                        </div>
                        
                        <!-- é¦–é åˆ†æ”¯ (å·¦ä¸‹) -->
                        <div class="mindmap-branch branch-home" style="top: 70%; left: 15%;">
                            é¦–é 
                        </div>
                        
                        <!-- ä½¿ç”¨æµç¨‹åˆ†æ”¯ (å³ä¸­) -->
                        <div class="mindmap-branch branch-usage" style="top: 45%; right: 10%;">
                            ä½¿ç”¨æµç¨‹
                        </div>
                        
                        <!-- ä½¿ç”¨æµç¨‹å­ç¯€é» (å³å´å±•é–‹) -->
                        <div class="mindmap-sub bg-pink" style="top: 10%; right: 15%; font-size: 0.8rem;">
                            é€²å…¥é¦–é 
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 15%; right: 25%; font-size: 0.75rem;">
                            é¡¯ç¤ºLogoå’Œåç¨±<br>å¯ç™»å…¥å¸³è™Ÿ
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 22%; right: 30%; font-size: 0.8rem;">
                            é¡¯ç¤ºæ¨è–¦ä½œå“
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 28%; right: 35%; font-size: 0.75rem;">
                            é—œéµå­—æœå°‹<br>ä¾æ¨è–¦åºé¡¯ç¤ºæœå°‹çµæœ
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 36%; right: 25%; font-size: 0.75rem;">
                            é»æ“Šä¸»è¦åˆ†é¡<br>ä¾æ¨è–¦åºé¡¯ç¤ºä½œå“åˆ—è¡¨
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 44%; right: 40%; font-size: 0.75rem;">
                            é¡¯ç¤ºå‰µä½œè€…å„é¡å’Œé ­åƒ
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 52%; right: 25%; font-size: 0.8rem;">
                            é€²å…¥ä½œå“é é¢
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 58%; right: 35%; font-size: 0.7rem;">
                            é¡¯ç¤ºä½œå“åœ–ã€å‹•åœ–æˆ–å½±ç‰‡<br>é¡¯ç¤ºä½œå“è³‡è¨Š<br>é¡¯ç¤ºä½œå“åƒ¹æ ¼
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 67%; right: 30%; font-size: 0.8rem;">
                            é»æ“Šè³¼è²·
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 73%; right: 40%; font-size: 0.7rem;">
                            ç™»å…¥å¸³è™Ÿ<br>é–‹å§‹äº¤æ˜“æµç¨‹<br>ä¸€å°ä¸€é‡‘æµè³‡è¨Š<br>ç¢ºèªäº¤æ˜“ï¼Œè¨‚å–®æˆç«‹
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 82%; right: 25%; font-size: 0.8rem;">
                            é€²å…¥å‰µä½œè€…é é¢
                        </div>
                        <div class="mindmap-sub bg-pink" style="top: 88%; right: 35%; font-size: 0.75rem;">
                            é¡¯ç¤ºé ­åƒ<br>é¡¯ç¤ºå€‹äººè³‡è¨Š<br>é¡¯ç¤ºä½œå“åˆ—è¡¨
                        </div>
                    </div>
                </div>
            </div>

            <!-- Demo Notice -->
            <section class="py-3 bg-warning">
                <div class="container">
                    <div class="row">
                        <div class="col-12 text-center">
                            <p class="mb-0">
                                <strong>ğŸ“¢ é€™æ˜¯å±•ç¤ºç‰ˆæœ¬</strong> - 
                                å®Œæ•´åŠŸèƒ½é–‹ç™¼ä¸­ï¼Œè©³ç´°è³‡è¨Šè«‹åƒè€ƒ 
                                <a href="https://github.com/KandiceWang/catcher-demo" class="text-dark">
                                    <strong>GitHub Repository</strong>
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <footer class="border-top footer text-muted py-3">
                <div class="container text-center">
                    <p>&copy; 2025 - Catcher - é€£æ¥å®¢æˆ¶èˆ‡è‡ªç”±å·¥ä½œè€…</p>
                    <p>
                        <a href="https://github.com/KandiceWang/catcher-demo">GitHub</a> | 
                        <a href="#about">About us</a> | 
                        <a href="#contact">Contact</a>
                    </p>
                </div>
            </footer>

            <script src="lib/jquery/dist/jquery.min.js"></script>
            <script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
            <script src="js/site.js"></script>
            
            <script>
                // Mindmap åŠŸèƒ½
                const mindmapBtn = document.getElementById('mindmapBtn');
                const mindmapOverlay = document.getElementById('mindmapOverlay');
                const mindmapClose = document.getElementById('mindmapClose');
                
                // é¡¯ç¤º Mindmap
                mindmapBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    mindmapOverlay.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    
                    // å‹•ç•«æ•ˆæœ
                    mindmapOverlay.style.opacity = '0';
                    setTimeout(() => {
                        mindmapOverlay.style.opacity = '1';
                    }, 10);
                });
                
                // é—œé–‰ Mindmap
                function closeMindmap() {
                    mindmapOverlay.style.opacity = '0';
                    setTimeout(() => {
                        mindmapOverlay.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }, 300);
                }
                
                mindmapClose.addEventListener('click', closeMindmap);
                
                // é»æ“ŠèƒŒæ™¯é—œé–‰
                mindmapOverlay.addEventListener('click', function(e) {
                    if (e.target === mindmapOverlay) {
                        closeMindmap();
                    }
                });
                
                // ESC éµé—œé–‰
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && mindmapOverlay.style.display === 'flex') {
                        closeMindmap();
                    }
                });
                
                // Mindmap ç¯€é»é»æ“ŠåŠŸèƒ½
                document.querySelectorAll('.mindmap-branch, .mindmap-sub').forEach(node => {
                    node.addEventListener('click', function() {
                        const nodeText = this.textContent.trim();
                        let message = '';
                        
                        switch(nodeText) {
                            case 'å‰µä½œè€…é é¢':
                                message = 'å‰µä½œè€…é é¢åŠŸèƒ½ï¼š\nâ€¢ å€‹äººæª”æ¡ˆå±•ç¤º\nâ€¢ ä½œå“é›†ç®¡ç†\nâ€¢ æ¥æ¡ˆç‹€æ…‹è¨­å®š\n\né–‹ç™¼ç‹€æ…‹ï¼šè¦åŠƒä¸­';
                                break;
                            case 'ä½œå“é é¢':
                                message = 'ä½œå“é é¢åŠŸèƒ½ï¼š\nâ€¢ ä½œå“è©³ç´°å±•ç¤º\nâ€¢ åƒ¹æ ¼å’Œè¦æ ¼èªªæ˜\nâ€¢ è³¼è²·æµç¨‹\n\né–‹ç™¼ç‹€æ…‹ï¼šè¨­è¨ˆä¸­';
                                break;
                            case 'é¦–é ':
                                message = 'é¦–é åŠŸèƒ½ï¼š\nâ€¢ å“ç‰Œå±•ç¤º\nâ€¢ æœå°‹åŠŸèƒ½\nâ€¢ åˆ†é¡ç€è¦½\nâ€¢ æ¨è–¦ä½œå“\n\né–‹ç™¼ç‹€æ…‹ï¼šå·²å®ŒæˆåŸºç¤ç‰ˆ';
                                break;
                            case 'ä½¿ç”¨æµç¨‹':
                                message = 'ä½¿ç”¨æµç¨‹åŒ…å«ï¼š\nâ€¢ ç€è¦½åˆ°è³¼è²·çš„å®Œæ•´æµç¨‹\nâ€¢ ç”¨æˆ¶è¨»å†Šç™»å…¥\nâ€¢ äº¤æ˜“ç³»çµ±\n\né–‹ç™¼ç‹€æ…‹ï¼šæµç¨‹è¨­è¨ˆä¸­';
                                break;
                            default:
                                message = `${nodeText}\n\né€™æ˜¯ç¶²ç«™åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼Œæ­£åœ¨é–‹ç™¼ä¸­...`;
                        }
                        
                        alert(message);
                    });
                });
                
                // å‹•æ…‹æ›´æ–° Mindmap æ•¸æ“šçµæ§‹
                const mindmapData = {
                    center: 'Catcher',
                    branches: [
                        {
                            name: 'å‰µä½œè€…é é¢',
                            color: 'branch-creator',
                            status: 'è¦åŠƒä¸­',
                            features: ['å€‹äººæª”æ¡ˆ', 'ä½œå“é›†', 'æ¥æ¡ˆè¨­å®š']
                        },
                        {
                            name: 'ä½œå“é é¢', 
                            color: 'branch-portfolio',
                            status: 'è¨­è¨ˆä¸­',
                            features: ['ä½œå“å±•ç¤º', 'åƒ¹æ ¼èªªæ˜', 'è³¼è²·æµç¨‹']
                        },
                        {
                            name: 'é¦–é ',
                            color: 'branch-home', 
                            status: 'å·²å®Œæˆ',
                            features: ['å“ç‰Œå±•ç¤º', 'æœå°‹', 'åˆ†é¡', 'æ¨è–¦']
                        },
                        {
                            name: 'ä½¿ç”¨æµç¨‹',
                            color: 'branch-usage',
                            status: 'è¨­è¨ˆä¸­', 
                            features: ['è¨»å†Šç™»å…¥', 'ç€è¦½', 'è³¼è²·', 'äº¤æ˜“']
                        }
                    ]
                };
                
                // æ›´æ–°ç‹€æ…‹çš„å‡½æ•¸ï¼ˆä¾›é–‹ç™¼æ™‚ä½¿ç”¨ï¼‰
                function updateMindmapStatus(branchName, newStatus) {
                    const branch = mindmapData.branches.find(b => b.name === branchName);
                    if (branch) {
                        branch.status = newStatus;
                        console.log(`${branchName} ç‹€æ…‹å·²æ›´æ–°ç‚º: ${newStatus}`);
                        // é€™è£¡å¯ä»¥æ·»åŠ é‡æ–°æ¸²æŸ“ mindmap çš„é‚è¼¯
                    }
                }
                
                // æœå°‹æ¨™ç±¤åˆ‡æ›åŠŸèƒ½
                document.querySelectorAll('.search-tab').forEach(tab => {
                    tab.addEventListener('click', function() {
                        document.querySelectorAll('.search-tab').forEach(t => t.classList.remove('active'));
                        this.classList.add('active');
                        
                        // æ›´æ–° placeholder æ–‡å­—
                        const input = document.querySelector('.search-input');
                        if (this.textContent === 'Find talent') {
                            input.placeholder = 'Search by role, or keywords';
                        } else {
                            input.placeholder = 'Search for jobs';
                        }
                    });
                });

                // åˆ†é¡å¡ç‰‡é»æ“Šæ•ˆæœ
                document.querySelectorAll('.category-card').forEach(card => {
                    card.addEventListener('click', function() {
                        const title = this.querySelector('.category-title').textContent;
                        alert(`æ­£åœ¨é–‹ç™¼ ${title} åŠŸèƒ½...`);
                    });
                });

                // æœå°‹åŠŸèƒ½
                document.querySelector('.search-btn').addEventListener('click', function() {
                    const searchTerm = document.querySelector('.search-input').value;
                    if (searchTerm.trim()) {
                        alert(`æ­£åœ¨æœå°‹: "${searchTerm}"\n\næ­¤åŠŸèƒ½æ­£åœ¨é–‹ç™¼ä¸­...`);
                    } else {
                        alert('è«‹è¼¸å…¥æœå°‹é—œéµå­—');
                    }
                });

                // Enter éµæœå°‹
                document.querySelector('.search-input').addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        document.querySelector('.search-btn').click();
                    }
                });

                // è¼‰å…¥ä½œå“å’Œå‰µä½œè€…è³‡æ–™
                loadHomepageData();

                // è¼‰å…¥é¦–é è³‡æ–™å‡½æ•¸
                function loadHomepageData() {
                    // æ¨¡æ“¬ç²¾é¸ä½œå“è³‡æ–™
                    const featuredPortfolios = [
                        {
                            id: '1',
                            title: 'ç¾ä»£ç°¡ç´„å“ç‰Œè¨­è¨ˆ',
                            creator: 'å¼µè¨­è¨ˆå¸«',
                            category: 'å¹³é¢è¨­è¨ˆ',
                            image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZjZiNGEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZjg1N2IiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0idXJsKCNhKSIvPjx0ZXh0IHg9IjE1MCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+54++5Luj562A57SE5ZOB54mM6Kit6KiIPC90ZXh0Pjwvc3ZnPg=='
                        },
                        {
                            id: '2', 
                            title: 'å•†æ¥­æ”å½±ä½œå“é›†',
                            creator: 'ææ”å½±å¸«',
                            category: 'æ”å½±',
                            image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImIiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM2NjdlZWEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3NjRiYTIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0idXJsKCNiKSIvPjx0ZXh0IHg9IjE1MCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+5ZWG5qWt5pS25b2x5L2c5ZOB6ZuGPC90ZXh0Pjwvc3ZnPg=='
                        },
                        {
                            id: '3',
                            title: 'UI/UX ä»‹é¢è¨­è¨ˆ',
                            creator: 'ç‹è¨­è¨ˆå¸«', 
                            category: 'UIè¨­è¨ˆ',
                            image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM4ZmJjOGYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM5OGQ5ODIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0idXJsKCNjKSIvPjx0ZXh0IHg9IjE1MCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+VUkvVVgg5LuL6Z2i6Kit6KiIPC90ZXh0Pjwvc3ZnPg=='
                        },
                        {
                            id: '4',
                            title: 'æ’ç•«å‰µä½œ',
                            creator: 'é™³æ’ç•«å®¶',
                            category: 'æ’ç•«',
                            image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmOGJiZDkiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmNWE2Y2QiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0idXJsKCNkKSIvPjx0ZXh0IHg9IjE1MCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+5o+S55S15Ym15L2cPC90ZXh0Pjwvc3ZnPg=='
                        },
                        {
                            id: '5',
                            title: 'ç¶²é é–‹ç™¼å°ˆæ¡ˆ',
                            creator: 'ç¨‹å¼è¨­è¨ˆå¸«',
                            category: 'ç¶²é é–‹ç™¼',
                            image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImUiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNkZGEwZGQiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlNGI3ZTQiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0idXJsKCNlKSIvPjx0ZXh0IHg9IjE1MCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+57ay6aCB6ZaL55m85bCC5qGIPC90ZXh0Pjwvc3ZnPg=='
                        },
                        {
                            id: '6',
                            title: '3D å»ºæ¨¡è¨­è¨ˆ',
                            creator: '3Dè¨­è¨ˆå¸«',
                            category: '3Dè¨­è¨ˆ',
                            image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImYiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmNGE2MWIiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmYjhiMjQiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0idXJsKCNmKSIvPjx0ZXh0IHg9IjE1MCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+M0Qg5bu66Ieq6Kit6KiIPC90ZXh0Pjwvc3ZnPg=='
                        }
                    ];

                    // æ¨¡æ“¬å‰µä½œè€…è³‡æ–™
                    const topCreators = [
                        {
                            id: '1',
                            name: 'å¼µè¨­è¨ˆå¸«',
                            bio: 'å°ˆç²¾å“ç‰Œè¨­è¨ˆèˆ‡è¦–è¦ºè­˜åˆ¥ï¼Œæ“æœ‰10å¹´è¨­è¨ˆç¶“é©—',
                            avatar: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI0MCIgY3k9IjQwIiByPSI0MCIgZmlsbD0iI2ZmNmI0YSIvPjx0ZXh0IHg9IjQwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+5bygPC90ZXh0Pjwvc3ZnPg==',
                            portfolios: 15
                        },
                        {
                            id: '2',
                            name: 'ææ”å½±å¸«',
                            bio: 'å•†æ¥­æ”å½±å°ˆå®¶ï¼Œå°ˆæ³¨æ–¼ç”¢å“èˆ‡äººåƒæ”å½±',
                            avatar: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI0MCIgY3k9IjQwIiByPSI0MCIgZmlsbD0iIzY2N2VlYSIvPjx0ZXh0IHg9IjQwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+5bugPC90ZXh0Pjwvc3ZnPg==',
                            portfolios: 23
                        },
                        {
                            id: '3',
                            name: 'ç‹è¨­è¨ˆå¸«',
                            bio: 'UI/UXè¨­è¨ˆå¸«ï¼Œè‡´åŠ›æ–¼å‰µé€ å„ªç§€çš„ç”¨æˆ¶é«”é©—',
                            avatar: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI0MCIgY3k9IjQwIiByPSI0MCIgZmlsbD0iIzhmYmM4ZiIvPjx0ZXh0IHg9IjQwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+546LPC90ZXh0Pjwvc3ZnPg==',
                            portfolios: 18
                        }
                    ];

                    // æ¸²æŸ“ç²¾é¸ä½œå“
                    const portfoliosGrid = document.getElementById('featuredPortfoliosGrid');
                    if (portfoliosGrid) {
                        portfoliosGrid.innerHTML = featuredPortfolios.map(portfolio => `
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="portfolio-card" onclick="viewPortfolio('${portfolio.id}')">
                                    <img src="${portfolio.image}" alt="${portfolio.title}" class="portfolio-image">
                                    <div class="portfolio-content">
                                        <h5 class="portfolio-title">${portfolio.title}</h5>
                                        <p class="portfolio-creator">by ${portfolio.creator}</p>
                                        <span class="portfolio-category">${portfolio.category}</span>
                                    </div>
                                </div>
                            </div>
                        `).join('');
                    }

                    // æ¸²æŸ“ç†±é–€å‰µä½œè€…
                    const creatorsList = document.getElementById('topCreatorsList');
                    if (creatorsList) {
                        creatorsList.innerHTML = topCreators.map(creator => `
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="creator-card" onclick="viewCreator('${creator.id}')">
                                    <img src="${creator.avatar}" alt="${creator.name}" class="creator-avatar">
                                    <h5 class="creator-name">${creator.name}</h5>
                                    <p class="creator-bio">${creator.bio}</p>
                                    <div class="creator-stats">${creator.portfolios} å€‹ä½œå“</div>
                                </div>
                            </div>
                        `).join('');
                    }
                }

                // æŸ¥çœ‹ä½œå“è©³æƒ…
                function viewPortfolio(id) {
                    window.location.href = `./portfolio.html?id=${id}`;
                }

                // æŸ¥çœ‹å‰µä½œè€…
                function viewCreator(id) {
                    window.location.href = `./creator.html?id=${id}`;
                }
            </script>
        </body>
        </html>
        EOF

    - name: Setup Pages
      uses: actions/configure-pages@v4

    - name: Upload artifact
      uses: actions/upload-pages-artifact@v3
      with:
        path: './static-site'

    - name: Deploy to GitHub Pages
      id: deployment
      uses: actions/deploy-pages@v4
