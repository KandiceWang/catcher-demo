name: Deploy Static Site

on:
  push:
    branches: [ master ]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Create static site
      run: |
        mkdir -p ./static-site
        
        # Copy all static assets
        cp -r ./Catcher-demo/wwwroot/* ./static-site/ 2>/dev/null || :
        
        # Create index.html
        cat > ./static-site/index.html << 'EOF'
        <!DOCTYPE html>
        <html lang="zh-TW">
        <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>Catcher Demo - å°ç£å‰µä½œè€…æ¥ç™¼æ¡ˆå¹³å°</title>
            <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
            <link rel="stylesheet" href="css/site.css" />
            <link rel="icon" href="favicon.ico" />
        </head>
        <body>
            <header>
                <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="#"><strong>ğŸ¨ Catcher</strong></a>
                        <div class="navbar-nav">
                            <a class="nav-link text-dark" href="#home">é¦–é </a>
                            <a class="nav-link text-dark" href="#services">æœå‹™</a>
                            <a class="nav-link text-dark" href="#about">é—œæ–¼</a>
                        </div>
                    </div>
                </nav>
            </header>

            <main>
                <!-- Hero Section -->
                <section id="home" class="hero-section bg-primary text-white py-5">
                    <div class="container">
                        <div class="row align-items-center">
                            <div class="col-lg-6">
                                <h1 class="display-4 fw-bold">å°ç£å‰µä½œè€…æ¥ç™¼æ¡ˆå¹³å°</h1>
                                <p class="lead mb-4">é€£æ¥å‰µä½œè€…èˆ‡å®¢æˆ¶ï¼Œè®“å‰µæ„è®Šç¾æ›´ç°¡å–®</p>
                                <div class="d-grid gap-2 d-md-flex">
                                    <button class="btn btn-light btn-lg px-4" type="button">é–‹å§‹æ¥æ¡ˆ</button>
                                    <button class="btn btn-outline-light btn-lg px-4" type="button">ç™¼å¸ƒéœ€æ±‚</button>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="text-center">
                                    <div class="bg-white rounded p-4 shadow">
                                        <h3 class="text-dark">åŠŸèƒ½ç‰¹è‰²</h3>
                                        <ul class="list-unstyled text-dark">
                                            <li>ğŸ¨ å‰µä½œè€…æœå‹™å±•ç¤º</li>
                                            <li>ğŸ” æ™ºæ…§æœå°‹èˆ‡ç¯©é¸</li>
                                            <li>ğŸ’¬ å³æ™‚è¨Šæ¯ç³»çµ±</li>
                                            <li>ğŸ’° é€æ˜çš„å®šåƒ¹æ©Ÿåˆ¶</li>
                                            <li>â­ è©•åƒ¹èˆ‡ä¿¡ä»»ç³»çµ±</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Services Section -->
                <section id="services" class="py-5">
                    <div class="container">
                        <h2 class="text-center mb-5">ç†±é–€æœå‹™</h2>
                        <div class="row">
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">å°ˆæ¥­Logoè¨­è¨ˆ</h5>
                                        <p class="card-text">è¨­è¨ˆå¸«å°æ˜</p>
                                        <p class="text-muted">å¹³é¢è¨­è¨ˆ</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="h5 text-primary">NT$ 1,500</span>
                                            <small class="text-muted">â­ 4.8 (127)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">ç¶²ç«™UI/UXè¨­è¨ˆ</h5>
                                        <p class="card-text">è¨­è¨ˆå¸«å°è¯</p>
                                        <p class="text-muted">UI/UXè¨­è¨ˆ</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="h5 text-primary">NT$ 3,000</span>
                                            <small class="text-muted">â­ 4.9 (89)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">å“ç‰Œè­˜åˆ¥è¨­è¨ˆ</h5>
                                        <p class="card-text">è¨­è¨ˆå¸«å°ç¾</p>
                                        <p class="text-muted">å“ç‰Œè¨­è¨ˆ</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="h5 text-primary">NT$ 5,000</span>
                                            <small class="text-muted">â­ 4.7 (156)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- About Section -->
                <section id="about" class="py-5 bg-light">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-8 mx-auto text-center">
                                <h2>é—œæ–¼ Catcher</h2>
                                <p class="lead">
                                    é€™æ˜¯ä¸€å€‹å°ˆç‚ºå°ç£å‰µä½œè€…è¨­è¨ˆçš„æ¥ç™¼æ¡ˆå¹³å°æ¼”ç¤ºç‰ˆæœ¬ã€‚
                                    æˆ‘å€‘è‡´åŠ›æ–¼é€£æ¥å„ªç§€çš„å‰µä½œè€…èˆ‡æœ‰éœ€æ±‚çš„å®¢æˆ¶ï¼Œ
                                    è®“å‰µæ„èƒ½å¤ é †åˆ©è®Šç¾ï¼Œè®“å¥½çš„ä½œå“è¢«æ›´å¤šäººçœ‹è¦‹ã€‚
                                </p>
                                <div class="row mt-4">
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h1 text-primary">1000+</div>
                                            <p>å‰µä½œè€…</p>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h1 text-primary">5000+</div>
                                            <p>å®Œæˆæ¡ˆä»¶</p>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h1 text-primary">98%</div>
                                            <p>æ»¿æ„åº¦</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Demo Notice -->
                <section class="py-3 bg-warning">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 text-center">
                                <p class="mb-0">
                                    <strong>ğŸ“¢ é€™æ˜¯å±•ç¤ºç‰ˆæœ¬</strong> - 
                                    å®Œæ•´åŠŸèƒ½é–‹ç™¼ä¸­ï¼Œè©³ç´°è³‡è¨Šè«‹åƒè€ƒ 
                                    <a href="https://github.com/KandiceWang/catcher-demo" class="text-dark">
                                        <strong>GitHub Repository</strong>
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <footer class="border-top footer text-muted py-3">
                <div class="container text-center">
                    <p>&copy; 2025 - Catcher Demo - å°ç£å‰µä½œè€…æ¥ç™¼æ¡ˆå¹³å°</p>
                    <p>
                        <a href="https://github.com/KandiceWang/catcher-demo">GitHub</a> | 
                        <a href="#services">æœå‹™</a> | 
                        <a href="#about">é—œæ–¼æˆ‘å€‘</a>
                    </p>
                </div>
            </footer>

            <script src="lib/jquery/dist/jquery.min.js"></script>
            <script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
            <script src="js/site.js"></script>
            
            <script>
                // ç°¡å–®çš„é é¢æ»¾å‹•æ•ˆæœ
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth'
                            });
                        }
                    });
                });
            </script>
        </body>
        </html>
        EOF

    - name: Setup Pages
      uses: actions/configure-pages@v4

    - name: Upload artifact
      uses: actions/upload-pages-artifact@v3
      with:
        path: './static-site'

    - name: Deploy to GitHub Pages
      id: deployment
      uses: actions/deploy-pages@v4
